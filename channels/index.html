<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Discord - Roblox Trolling Central</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'gg sans', 'Noto Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;
      background-color: #36393f;
      color: #dcddde;
      display: flex;
      height: 100vh;
      overflow: hidden;
    }
    #server-list {
      width: 72px;
      background-color: #202225;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 12px 0;
      gap: 8px;
      overflow-y: auto;
    }
    #server-list::-webkit-scrollbar {
      width: 0;
    }
    .server-icon {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background-color: #36393f;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: border-radius 0.2s, background-color 0.2s;
      font-weight: 600;
      font-size: 18px;
      color: #fff;
      position: relative;
    }
    .server-icon:hover {
      border-radius: 35%;
      background-color: #5865f2;
    }
    .server-icon.active {
      border-radius: 35%;
      background-color: #5865f2;
    }
    .server-icon.active::before {
      content: '';
      position: absolute;
      left: -16px;
      width: 8px;
      height: 40px;
      background-color: #fff;
      border-radius: 0 4px 4px 0;
    }
    .server-icon.dm {
      background-color: #202225;
      font-size: 20px;
    }
    .server-icon.dm:hover {
      background-color: #5865f2;
      border-radius: 35%;
    }
    .server-separator {
      width: 32px;
      height: 2px;
      background-color: #36393f;
      margin: 4px 0;
    }
    #channel-sidebar {
      width: 240px;
      background-color: #2f3136;
      display: flex;
      flex-direction: column;
    }
    #server-header {
      height: 48px;
      padding: 0 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid #202225;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.15s;
    }
    #server-header:hover {
      background-color: #34373c;
    }
    #channels-container {
      flex: 1;
      overflow-y: auto;
      padding: 8px;
    }
    #channels-container::-webkit-scrollbar {
      width: 8px;
    }
    #channels-container::-webkit-scrollbar-track {
      background: transparent;
    }
    #channels-container::-webkit-scrollbar-thumb {
      background-color: #202225;
      border-radius: 4px;
    }
    #channels-container::-webkit-scrollbar-thumb:hover {
      background-color: #18191c;
    }
    .channel-section {
      margin-bottom: 16px;
    }
    .section-title {
      font-size: 12px;
      font-weight: 600;
      color: #96989d;
      text-transform: uppercase;
      padding: 8px 8px 4px 8px;
      letter-spacing: 0.5px;
    }
    .channel-item {
      display: flex;
      align-items: center;
      padding: 6px 8px;
      margin: 1px 0;
      border-radius: 4px;
      cursor: pointer;
      color: #96989d;
      transition: background-color 0.15s, color 0.15s;
    }
    .channel-item:hover {
      background-color: #3a3c43;
      color: #dcddde;
    }
    .channel-item.active {
      background-color: #404249;
      color: #fff;
    }
    .channel-icon {
      margin-right: 6px;
      font-size: 20px;
      color: #96989d;
    }
    .channel-item.active .channel-icon {
      color: #fff;
    }
    .channel-name {
      font-size: 16px;
      font-weight: 500;
    }
    #main-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      background-color: #36393f;
    }
    #chat-header {
      height: 48px;
      padding: 0 16px;
      display: flex;
      align-items: center;
      border-bottom: 1px solid #202225;
      background-color: #36393f;
    }
    .chat-title-icon {
      font-size: 24px;
      color: #96989d;
      margin-right: 8px;
    }
    .chat-title {
      font-size: 16px;
      font-weight: 600;
      color: #fff;
    }
    #browser-controls {
      margin-left: auto;
      display: flex;
      gap: 8px;
    }
    .browser-btn {
      width: 32px;
      height: 32px;
      background: transparent;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #b9bbbe;
      transition: background-color 0.15s, color 0.15s;
    }
    .browser-btn:hover {
      background-color: #3a3c43;
      color: #dcddde;
    }
    .browser-btn svg {
      width: 20px;
      height: 20px;
      fill: currentColor;
    }
    #message-area {
      flex: 1;
      overflow: hidden;
    }
    iframe {
      width: 100%;
      height: 100%;
      border: none;
      background: #36393f;
    }
  </style>
</head>
<body>
  <div id="server-list">
    <div class="server-icon" id="dmIcon" title="Direct Messages">
      <svg width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 2C6.486 2 2 6.486 2 12c0 1.79.48 3.47 1.32 4.93l-1.11 3.3a1 1 0 001.26 1.26l3.3-1.11A9.957 9.957 0 0012 22c5.514 0 10-4.486 10-10S17.514 2 12 2z"/>
      </svg>
    </div>
    <div class="server-separator"></div>
    <div class="server-icon active" id="rtcIcon" title="Roblox Trolling Central">RTC</div>
  </div>

  <div id="channel-sidebar">
    <div id="server-header">
      <span>Roblox Trolling Central</span>
      <span style="font-size: 12px;">â–¼</span>
    </div>
    <div id="channels-container">
      <div class="channel-section" id="server-channels">
        <div class="section-title">Text Channels</div>
        <div id="channel-list"></div>
      </div>
      <div class="channel-section" id="dm-section" style="display: none;">
        <div class="section-title">Direct Messages</div>
        <div id="dm-list"></div>
      </div>
    </div>
  </div>

  <div id="main-content">
    <div id="chat-header">
      <span class="chat-title-icon">#</span>
      <span class="chat-title">Select a channel</span>
      <div id="browser-controls">
        <button class="browser-btn" id="backBtn" title="Back">
          <svg viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6"/></svg>
        </button>
        <button class="browser-btn" id="forwardBtn" title="Forward">
          <svg viewBox="0 0 24 24"><path d="M9 6l6 6-6 6"/></svg>
        </button>
        <button class="browser-btn" id="refreshBtn" title="Refresh">
          <svg viewBox="0 0 24 24"><path d="M17.65 6.35A7.95 7.95 0 0012 4V1l-4 4 4 4V5c3.31 0 6 2.69 6 6a6 6 0 01-6 6 6 6 0 01-5.65-4H4a8 8 0 007.65 8 8 8 0 007.65-8c0-2.11-.82-4.03-2.35-5.65z"/></svg>
        </button>
      </div>
    </div>
    <div id="message-area">
      <iframe id="channelFrame"></iframe>
    </div>
  </div>

  <script>
    const channels = [
      "trial chat",
      "trial upds",
      "event chat1",
      "event chat2",
      "admin chat",
      "admin info",
      "admin upds",
      "staff chat",
      "staff upds",
      "staff strikes",
      "manager chat",
      "manager cmds",
      "modlogs",
      "trusted chat",
      "trusted upds",
      "deleted msgs",
      "message logs",
      "verify logs",
      "private event chat",
      "closed quarantine ticket"
    ];

    const dms = [
      "red",
      "CatNature",
      "0vr"
    ];

    const channelList = document.getElementById("channel-list");
    const dmList = document.getElementById("dm-list");
    const frame = document.getElementById("channelFrame");
    const chatTitle = document.querySelector(".chat-title");
    const chatTitleIcon = document.querySelector(".chat-title-icon");
    const serverHeader = document.getElementById("server-header");
    const serverChannels = document.getElementById("server-channels");
    const dmSection = document.getElementById("dm-section");
    const rtcIcon = document.getElementById("rtcIcon");
    const dmIcon = document.getElementById("dmIcon");

    let currentView = "server";

    function switchView(view) {
      currentView = view;
      if (view === "server") {
        serverHeader.querySelector("span").textContent = "Roblox Trolling Central";
        serverChannels.style.display = "block";
        dmSection.style.display = "none";
        rtcIcon.classList.add("active");
        dmIcon.classList.remove("active");
      } else {
        serverHeader.querySelector("span").textContent = "Direct Messages";
        serverChannels.style.display = "none";
        dmSection.style.display = "block";
        rtcIcon.classList.remove("active");
        dmIcon.classList.add("active");
      }
    }

    rtcIcon.addEventListener("click", () => switchView("server"));
    dmIcon.addEventListener("click", () => switchView("dm"));

    function openChannel(name, isDM = false) {
      const filename = isDM ? `dm/${name}.html` : `${name}.html`;
      frame.src = filename;
      chatTitle.textContent = name;
      chatTitleIcon.textContent = isDM ? "@" : "#";
      
      document.querySelectorAll(".channel-item").forEach(item => item.classList.remove("active"));
      const activeItem = Array.from(document.querySelectorAll(".channel-item"))
        .find(item => item.dataset.name === name && item.dataset.isDm === String(isDM));
      if (activeItem) activeItem.classList.add("active");
      
      localStorage.setItem("lastChannel", JSON.stringify({ name, isDM }));
    }

    channels.forEach(name => {
      const item = document.createElement("div");
      item.className = "channel-item";
      item.dataset.name = name;
      item.dataset.isDm = "false";
      item.innerHTML = `<span class="channel-icon">#</span><span class="channel-name">${name}</span>`;
      item.addEventListener("click", () => {
        switchView("server");
        openChannel(name, false);
      });
      channelList.appendChild(item);
    });

    dms.forEach(name => {
      const item = document.createElement("div");
      item.className = "channel-item";
      item.dataset.name = name;
      item.dataset.isDm = "true";
      item.innerHTML = `<span class="channel-icon">@</span><span class="channel-name">${name}</span>`;
      item.addEventListener("click", () => {
        switchView("dm");
        openChannel(name, true);
      });
      dmList.appendChild(item);
    });

    document.getElementById("refreshBtn").addEventListener("click", () => {
      if (frame.src) frame.contentWindow.location.reload();
    });
    document.getElementById("backBtn").addEventListener("click", () => {
      if (frame.contentWindow.history.length > 1) frame.contentWindow.history.back();
    });
    document.getElementById("forwardBtn").addEventListener("click", () => {
      frame.contentWindow.history.forward();
    });

    const params = new URLSearchParams(window.location.search);
    const initial = params.get("c");
    const saved = localStorage.getItem("lastChannel");

    if (initial) {
      const isDM = dms.includes(initial);
      if (isDM) switchView("dm");
      openChannel(initial, isDM);
    } else if (saved) {
      try {
        const { name, isDM } = JSON.parse(saved);
        if (isDM) switchView("dm");
        openChannel(name, isDM);
      } catch (e) {
      }
    }
  </script>
</body>
</html>